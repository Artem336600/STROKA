# STROKA - Система поиска профилей специалистов

STROKA - это консольное приложение для поиска профилей специалистов с использованием гибридного подхода, сочетающего векторный поиск, полнотекстовый поиск и интеграцию с Mistral AI для улучшенного понимания контекста.

## Возможности

- Импорт профилей из различных форматов файлов (TXT, JSON, YAML, Markdown)
- Векторный поиск с использованием модели Sentence Transformers
- Полнотекстовый поиск для точного нахождения ключевых слов
- Гибридный поиск, объединяющий преимущества обоих подходов
- **Новое:** Улучшенное понимание контекста с использованием Mistral AI
- **Новое:** Переранжирование результатов поиска с помощью Mistral AI
- Интерактивный режим с командами и подробным просмотром профилей

## Модули

- `app.py` - основной модуль для запуска приложения
- `search.py` - поисковый движок для выполнения запросов
- `loader.py` - модуль для загрузки профилей из файлов
- `utils.py` - вспомогательные функции и утилиты
- `mistral_search.py` - **Новое:** модуль для интеграции с Mistral AI API

## Требования

- Python 3.8+
- Зависимости из requirements.txt

## Установка

```bash
pip install -r requirements.txt
```

## Использование

```bash
python app.py              # Запуск в интерактивном режиме
python app.py --query "Поисковый запрос"  # Выполнение одиночного запроса
python app.py --data-dir "путь/к/профилям"  # Указание другой директории с профилями
python app.py --use-mistral  # Явно включить использование Mistral AI
python app.py --no-mistral   # Отключить использование Mistral AI
python app.py --mistral-model "mistral-small"  # Указать другую модель Mistral
```

## Примеры поисковых запросов

- "Найти специалистов по финансовому анализу"
- "Кто знает Python и машинное обучение?"
- "Инженеры с образованием МГТУ"
- "Информация о Марии Соловьевой"

## Принципы работы

Система использует гибридный подход поиска, объединяя:
1. Векторный поиск (70% веса) - создает векторные представления текстов и ищет семантически похожие
2. Текстовый поиск (30% веса) - находит документы, содержащие слова из запроса
3. **Новое:** Анализ контекста с помощью Mistral AI - улучшенное понимание смысла запроса
4. **Новое:** Переранжирование результатов с помощью Mistral AI - повышение точности результатов

Эта комбинация обеспечивает как нахождение явных совпадений, так и улучшенное понимание смысла запроса и контекста.

### Улучшение понимания контекста

Интеграция с Mistral AI решает проблемы:
- Различение поиска по навыкам и по именам (например, "кто знает Python" будет правильно обработан как поиск человека с навыком Python, а не человека по имени "Питон")
- Расширение запроса синонимами и связанными терминами
- Понимание неявных запросов и контекста
- Переранжирование результатов с учетом контекста запроса

## Структура проекта

```
STROKA/
├── app.py            # Основной модуль приложения
├── search.py         # Модуль поиска
├── loader.py         # Модуль загрузки профилей
├── utils.py          # Вспомогательные функции
├── mistral_search.py # Модуль для интеграции с Mistral AI
├── requirements.txt  # Зависимости проекта
├── README.md         # Документация
└── people/           # Директория с профилями
    ├── user1.txt
    ├── user2.txt
    └── ...
``` 